---
sidebar_position: 2
---

# 事件
イベントが発生したら、それに対応する処理を行う

## register_listener
- イベントリスナを定義したら、イベントマネージャーに登録する。
#### <span style={{ color: 'red' }}>❗推奨されない</span>
:::tip
- CDPS `>= 1.0.15` 以降では、イベントを登録するため（註冊事件）のより良い方法があります。
:::
```py
from cdps.plugin.manager import Listener, Manager        # イベントマネージャーとイベントリスナのインポート
from cdps.plugin.events import onServerStartEvent        # サーバー起動イベントのインポート


class onServerStartListener(Listener):                   # イベントリスナの定義
    event = onServerStartEvent                           # イベントリスナのイベントを定義する

    def on_event(self, event):                           # ハンズオン
        print("Hello World")


event_manager = Manager()                                # キャッチアップイベントマネージャー 実践例
event_manager.register_listener(onServerStartListener()) # イベントリスナをイベントマネージャーに登録する
```

## event_listener
- 装飾家（Decorator）を使用して関数をデコレートすると、デコレートされた関数が対応するイベントのコールバック関数として使用されます。
- リスナすべきイベントを渡す
```py
from cdps.plugin.events import onServerStartEvent
from cdps.plugin.manager import Listener, event_listener


@event_listener(onServerStartEvent)                      # 装飾家（Decorator）
class onServerStartListener(Listener):

    def on_event(self, event):
        print(event.pid)
```